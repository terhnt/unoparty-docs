<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.16">
<title data-rh="true">Protocol Specification | Unoparty</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.unoparty.io/unoparty-docs/docs/advanced/protocol"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Protocol Specification | Unoparty"><meta data-rh="true" name="description" content="Summary"><meta data-rh="true" property="og:description" content="Summary"><link data-rh="true" rel="icon" href="/unoparty-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://docs.unoparty.io/unoparty-docs/docs/advanced/protocol"><link data-rh="true" rel="alternate" href="http://docs.unoparty.io/unoparty-docs/docs/advanced/protocol" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.unoparty.io/unoparty-docs/docs/advanced/protocol" hreflang="x-default"><link rel="stylesheet" href="/unoparty-docs/assets/css/styles.69144d20.css">
<link rel="preload" href="/unoparty-docs/assets/js/runtime~main.43850e25.js" as="script">
<link rel="preload" href="/unoparty-docs/assets/js/main.df4eda3e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/unoparty-docs/"><div class="navbar__logo"><img src="/unoparty-docs/img/logo.svg" alt="Unoparty Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/unoparty-docs/img/logo.svg" alt="Unoparty Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Unoparty</b></a><a class="navbar__item navbar__link" href="/unoparty-docs/docs/intro">Basics</a><a class="navbar__item navbar__link" href="/unoparty-docs/docs/wallets/unowalletfaq">Wallets</a><a class="navbar__item navbar__link" href="/unoparty-docs/docs/advanced/architecture">Advanced</a><a class="navbar__item navbar__link" href="/unoparty-docs/docs/develop/main">Develop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/terhnt/unoparty-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåú</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">üåû</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/unoparty-docs/docs/advanced/architecture">Architecture/Protocol</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/unoparty-docs/docs/advanced/architecture">Platform Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/unoparty-docs/docs/advanced/protocol">Protocol Specification</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/unoparty-docs/docs/advanced/cli">Command-Line</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Architecture/Protocol</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/unoparty-docs/docs/advanced/protocol">Protocol Specification</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Protocol Specification</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">‚Äã</a></h2><p>Unoparty is a suite of financial tools in a protocol built on top of the Unobtanium blockchain and using the blockchain as a service for the reliable publication and timestamping of its messages.</p><p>The reference implementation is unoparty-lib, which is hosted at <a href="https://github.com/terhnt/unoparty-lib" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p>This document describes exclusively the latest version of the Unoparty protocol. For historical protocol changes, see the unoparty-lib ChangeLog.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">‚Äã</a></h2><p>Unoparty messages have the following components:</p><ul><li>Source addresses</li><li>Destination addresses (optional)</li><li>A quantity of unobtaniums sent from the sources to the destinations, if it exists.</li><li>A fee, in unobtaniums, paid to the Unobtanium miners who include the transaction in a block.</li><li>Some ‚Äòdata‚Äô, imbedded in specially constructed transaction outputs.</li></ul><p>Every Unobtanium transaction carrying a Unoparty transaction has the following possible outputs:</p><ul><li>zero or more destination outputs,</li><li>zero or more data outputs, and optional change outputs.
All data outputs follow all destination outputs. Change outputs (outputs after the last data output) have no significance.</li></ul><p>For identification purposes, every Unoparty transaction‚Äôs ‚Äòdata‚Äô field is prefixed by the string <code>CNTRPRTY</code>, encoded in UTF‚Äê8. This string is long enough that transactions with outputs containing pseudo‚Äêrandom data cannot be mistaken for valid Unoparty transactions. In testing (i.e. using the TESTCOIN Unoparty network on any blockchain), this string is ‚ÄòXX‚Äô.</p><p>Unoparty data may be stored in three different types of outputs, or in some combinations of those formats. All of the data is obfuscated by ARC4 encryption using the transaction identifier (TXID) of the first unspent transaction output (UTXO) as the encryption key.</p><p>Multi‚Äêsignature data outputs are one‚Äêof‚Äêthree outputs where the first public key is that of the sender, so that the value of the output is redeemable, and the second two public keys encode the data, zero‚Äêpadded and prefixed with a length byte.</p><p>The data may also be stored in <code>OP_RETURN</code> outputs or as fake pubkeyhashes.</p><p>The existence of the destination outputs, and the significance of the size of the Unobtanium fee and the Unobtaniums transacted, depend on the Unoparty message type, which is determined by the four bytes in the data field that immediately follow the identification prefix. The rest of the data have a formatting specific to the message type, described in the source code.</p><p>The sources and destinations of a Unoparty transaction are Unobtanium addresses, and may be either <code>OP_CHECKSIG</code> and <code>OP_CHECKMULTISIG</code> Unobtanium ScriptPubkeys.</p><p>All messages are parsed in order, one at a time, ignoring block boundaries.</p><p>Orders, bets, order matches, bet matches and rock‚Äêpaper‚Äêscissor matches are expired at the end of blocks.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="nonunoparty-transactions">Non‚ÄêUnoparty transactions<a class="hash-link" href="#nonunoparty-transactions" title="Direct link to heading">‚Äã</a></h2><p>unoparty-lib supports the construction of two kinds of transactions that are not themselves considered Unoparty transactions:</p><ul><li>UNO sends</li><li>UNO dividends to Unoparty assets</li></ul><p>Neither of these two transactions is constructed with a data field.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="mempool-transactions">mempool transactions<a class="hash-link" href="#mempool-transactions" title="Direct link to heading">‚Äã</a></h2><p>Always have block index = 9999999 (<code>config.MEMPOOL_BLOCK_INDEX</code>).</p><p>DB changes never persist across sessions.</p><p>Assets
All assets except UNO and XUP have the following properties:</p><ul><li>Asset name</li><li>Asset ID</li><li>Description</li><li>Divisiblity</li><li>Callability</li><li>Call date (if callable)<ul><li>may be delayed with later issuances</li></ul></li><li>Call price (if callable) (non‚Äênegative)<ul><li>may be increased with later issuances</li></ul></li></ul><p>Newly registered asset names will be either (unique) strings of 4 to 12 uppercase Latin characters (inclusive) not beginning with ‚ÄòA‚Äô, or integers between 26^12 + 1 and 256^8 (inclusive), prefixed with ‚ÄòA‚Äô. Alphabetic asset names will carry a one‚Äêtime issuance fee (by burn) of 0.5 XUP and numeric asset names will be freely available. ‚ÄòUNO‚Äô and ‚ÄòXUP‚Äô are the only three‚Äêcharacter asset names. Example asset names: BBBB, A100000000000000000.</p><p>Assets may be either divisible or indivisible, and divisible assets are divisible to eight decimal places. Assets also come with descriptions, which may be up to 52 single-byte characters long and updated at any time.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="subassets">Subassets<a class="hash-link" href="#subassets" title="Direct link to heading">‚Äã</a></h2><ol><li>Subasset names must meet following requirements :</li></ol><ul><li>Begin with the parent asset name followed by a period (.)</li><li>Contain at least 1 character following the parent asset name and a period (.) (e.g. PIZZA.x)</li><li>Contain up to 250 characters in length including the parent asset name (e.g. PIZZA.REALLY-long-VALID-Subasset-NAME)</li><li>Contain only characters <code>a-zA-Z0-9.-_@!</code></li><li>Cannot end with a period (.)</li><li>Cannot contain multiple consecutive periods (..)</li></ul><ol start="2"><li><p>A subasset may only be issued from the same address that owns the parent asset at the time of the issuance</p></li><li><p>A subasset may be transferred to a new owner address after initial issuance</p></li><li><p>A subasset has an anti-spam issuance cost of 0.25 XUP</p></li></ol><p>Memos
A Memo can be attached to a send transactions. When a shared public address is used for incoming transactions, a memo may be used to link an incoming payments with a specific user account identifier or invoice. Memos do not need to be unique. Multiple sends may have the same memo.</p><p>The Memo is a numeric value expressed in hexadecimal or a UTF-8 encoded text string. Valid memos are no more than 34 bytes long.</p><p>Transaction Statuses
Offers (i.e. orders and bets) are given a status filled when their give_remaining, get_remaining, wager_remaining, counterwager_remaining, fee_provided_remaining or fee_required_remaining are no longer positive quantities.</p><p>Because order matches pending UNO payment may be expired, orders involving Unobtanium cannot be filled, but remain always with a status open.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="message-types">Message Types<a class="hash-link" href="#message-types" title="Direct link to heading">‚Äã</a></h2><ul><li>Send</li><li>Order</li><li>BTCPay</li><li>Issue</li><li>Broadcast</li><li>Bet</li><li>Dividend</li><li>Burn</li><li>Cancel</li><li>Destroy</li><li>Dispenser</li><li>Melt (TBA)</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="send">Send<a class="hash-link" href="#send" title="Direct link to heading">‚Äã</a></h3><p>A <strong>send</strong> message sends a quantity of any Unoparty asset from the source address to the destination address. If the sender does not hold a sufficient quantity of that asset at the time that the send message is parsed (in the sequence of transactions), then the send is considered an oversend.</p><p>Oversends are handled as follows:</p><p>1) Oversends using the legacy send transaction type are valid and filled as much as they can be 2) Oversends using the new default enhanced send transaction type after block 489956 are invalid and none of the asset is sent</p><p>unoparty-lib supports sending unobtaniums, for which no data output is used.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="order">Order<a class="hash-link" href="#order" title="Direct link to heading">‚Äã</a></h3><p>An ‚Äòorder‚Äô is an offer to <em>give</em> a particular quantity of a particular asset and get some quantity of some other asset in return. No distinction is drawn between a ‚Äòbuy order‚Äô and a ‚Äòsell order‚Äô. The assets being given are escrowed away immediately upon the order being parsed. That is, if someone wants to give 1 XUP for 2 UNO, then as soon as he publishes that order, his balance of XUP is reduced by one.</p><p>When an order is seen in the blockchain, the protocol attempts to match it, deterministically, with another open order previously seen. Two matched orders are called a ‚Äòorder match‚Äô. If either of a order match‚Äôs constituent orders involve Unobtanium, then the order match is assigned the status ‚Äòpending‚Äô until the necessary UNOPay transaction is published. Otherwise, the trade is completed immediately, with the protocol itself assigning the participating addresses their new balances.</p><p>All orders are limit orders: an asking price is specified in the ratio of how much of one would like to get and give; an order is matched to the open order with the best price below the limit, and the order match is made at that price. That is, if there is one open order to sell at .11 XUP/ASST, another at .12 XUP/ASST, and another at .145 XUP/UNO, then a new order to buy at .14 XUP/ASST will be matched to the first sell order first, and the XUP and UNO will be traded at a price of .11 XUP/ASST, and then if any are left, they‚Äôll be sold at .12 XUP/ASST. If two existing orders have the same price, then the one made earlier will match first.</p><p>All orders allow for partial execution; there are no all‚Äêor‚Äênone orders. If, in the previous example, the party buying the unobtaniums wanted to buy more than the first sell offer had available, then the rest of the buy order would be filled by the latter existing order. After all possible order matches are made, the current (buy) order is listed as an open order itself. If there exist multiple open orders at the same price, then order that was placed earlier is matched first.</p><p>Open orders expire after they have been open for a user‚Äêspecified number of blocks. When an order expires, all escrowed funds are returned to the parties that originally had them.</p><p>Order Matches waiting for Unobtanium payments expire after twenty blocks; the constituent orders are replenished.</p><p>In general, there can be no such thing as a fake order, because the assets that each party is offering are stored in escrow. However, it is impossible to escrow unobtaniums, so those attempting to buy unobtaniums may ask that only orders which pay a fee in unobtaniums to Unobtanium miners be matched to their own. On the other hand, when creating an order to sell unobtaniums, a user may pay whatever fee he likes. Partial orders pay partial fees. These fees are designated in the code as fee_required and fee_provided, and as orders involving UNO are matched (expired), these fees (required and provided) are debited (sometimes replenished), in proportion to the fraction of the order that is matched. That is, if an order to sell 1 UNO has a fee_provided of 0.01 UNO (a 1%), and that order matches for 0.5 UNO initially, then the fee_provided_remaining for that order will thenceforth be 0.005 UNO. Provided fees, however, are not replenished upon failure to make UNO payments, or their anti‚Äêtrolling effect would be voided.</p><p>Payments of unobtaniums to close order matches waiting for unobtaniums are done with a UNOpay message, which stores in its data field only the string concatenation of the transaction hashes which compose the Order Match which it fulfils.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="issue">Issue<a class="hash-link" href="#issue" title="Direct link to heading">‚Äã</a></h3><p>Assets are issued with the issuance message type: the user picks a name and a quantity, and the protocol credits his address accordingly. The asset name must either be unique or be one previously issued by the same address. When re‚Äêissuing an asset, that is, issuing more of an already‚Äêissued asset, the divisibilities and the issuing address must match.</p><p>The rights to issue assets under a given name may be transferred to any other address.</p><p>Assets may be locked irreversibly against the issuance of further quantities and guaranteeing its holders against its inflation. To lock an asset, set the description to ‚ÄòLOCK‚Äô (case‚Äêinsensitive).</p><p>Issuances of any non‚Äêzero quantity, that is, issuances which do not merely change, e.g., the description of the asset, involve a debit (and destruction) of now 0.5 XUP.</p><p>Asset descriptions in enhanced asset information schema may be of arbitrary length.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="broadcast">Broadcast<a class="hash-link" href="#broadcast" title="Direct link to heading">‚Äã</a></h2><p>A broadcast message publishes textual and numerical information, along with a timestamp, as part of a series of broadcasts called a ‚Äòfeed‚Äô. One feed is associated with one address: any broadcast from a given address is part of that address‚Äôs feed. The timestamps of a feed must increase monotonically.</p><p>Bets are made on the numerical values in a feed, which values may be the prices of a currency, or parts of a code for describing discrete possible outcomes of a future event, for example. One might describe such a code with a text like, ‚ÄòUS QE on 2014-01-01: dec=1, const=2, inc=3‚Äô and announce the results with ‚ÄòUS QE on 2014-01-01: decrease!‚Äô and a value of 1.</p><p>The publishing of a single broadcast with a textual message equal to ‚ÄòLOCK‚Äô (case‚Äêinsensitive) locks the feed, and prevents it both from being the source of any further broadcasts and from being the subject of any new bets. (If a feed is locked while there are open bets or unsettled bet matches that refer to it, then those bets and bet matches will expire harmlessly.)</p><p>The text field may be of arbitrary length.</p><p>A feed is identified by the address which publishes it.</p><p>Broadcasts with a value of -2 cancel all open bets on the feed. Broadcasts with a value of -3 cancel all pending bet matches on the feed. (This is equivalent to waiting for two weeks after the deadline.) Broadcasts with any other negative value are ignored for the purpose of bet settlement, but they still update the last broadcast time.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bet">Bet<a class="hash-link" href="#bet" title="Direct link to heading">‚Äã</a></h3><p>A bet is a wager that the value of a particular feed will be equal (or not equal) to a certain value ‚Äî the target value ‚Äî at the deadline. Bets have their wagers put in escrow upon being matched, and they are settled when the feed that they rely on passes the deadline.</p><p>Equal/NotEqual Bets cannot be leveraged. However, for two Bets to be matched, their leverage levels, deadlines and target values must be identical. Otherwise, they are matched the same way that orders are, except a Bet‚Äôs odds are the multiplicative inverse of an order‚Äôs price (odds = wager/counterwager): each Bet is matched, if possible, to the open Bet with the highest odds, as much as possible.</p><p>Target values must be non‚Äênegative, and Bet Matches (contracts) are not affected by broadcasts with a value of -1.</p><p>Bets cannot have a deadline later than the timestamp of the last broadcast of the feed that they refer to.</p><p>Bets expire the same way that orders do, i.e. after a particular number of blocks. Bet Matches expire 2016 blocks after a block is seen with a block timestamp after its deadline.</p><p>Betting fees are proportional to the initial wagers, not the earnings. They are taken from, not added to, the quantities wagered.</p><p>Because of the block time, and the non‚Äêdeterministic way in which transactions are ordered in the blockchain, all contracts must not be incrementally settled, but the funds in question must be immediately put into escrow, and there must be a settlement date. Otherwise, one could see a price drop coming, and ‚Äòfight‚Äô to hide the funds that were going to be deducted.
Feed fees are deducted from the final settlement amount.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="dividend">Dividend<a class="hash-link" href="#dividend" title="Direct link to heading">‚Äã</a></h3><p>A dividend payment is a payment of some quantity of any Unoparty asset (including UNO) to every holder of a an asset (except UNO or XUP) in proportion to the size of their holdings. Dividend‚Äêyielding assets may be either divisible or indivisible. A dividend payment to any asset may originate from any address. The asset for dividend payments and the assets whose holders receive the payments may be the same. Unobtanium dividend payments do not employ the Unoparty protocol and so are larger and more expensive (in fees) than all other dividend payments.</p><p>TODO: dividends on escrowed funds
There is a small anti-spam fee of 0.0002 XUP per recipient with dividends.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="burn">Burn<a class="hash-link" href="#burn" title="Direct link to heading">‚Äã</a></h3><p>Balances in Unoparty‚Äôs native currency, ‚ÄòXUP‚Äô, will be initialised by ‚Äòburning‚Äô unobtaniums in miners‚Äô fees during a particular period of time using the a burn message type. The number of XUP earned per unobtanium is calculated thus:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">XUP_EARNED = UNO_BURNED * (2000 + ( 500 *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ((END_BLOCK - CURRENT_BLOCK) / (END_BLOCK - START_BLOCK))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>END_BLOCK is the block after which the burn period is over (block #283810) and START_BLOCK is the block with which the burn period begins (block #278310). The earlier the burn, the better the price, which may be between 1000 and 1500 XUP/UNO.</p><p>Burn messages have precisely the string ‚ÄòProofOfBurn‚Äô stored in the OP_RETURN output.</p><p>new data‚Äêless burn
burn period is over</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cancel">Cancel<a class="hash-link" href="#cancel" title="Direct link to heading">‚Äã</a></h3><p>Open offers may be cancelled, which cancellation is irrevocable.</p><p>A cancel message contains only the hash of the Unobtanium transaction that contains the order or bet to be cancelled. Only the address which made an offer may cancel it.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="destroy">Destroy<a class="hash-link" href="#destroy" title="Direct link to heading">‚Äã</a></h3><p>A destroy message sends a quantity of any Unoparty asset from the source address to the default burn address. If the sender does not hold a sufficient quantity of that asset at the time that the destroy message is parsed (in the sequence of transactions), then the destroy is considered invalid.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="dispenser">Dispenser<a class="hash-link" href="#dispenser" title="Direct link to heading">‚Äã</a></h3><p>A dispenser message creates a special type of artifact on the unoparty db that watches an address for incoming main chain asset (UNO). When any UNO reaches a dispenser enabled address, the amount received gets divided by the dispenser mainchainrate (or satoshirate in the db). The quantity rounded down is the multiplier to give_quantity that is sent to the first address on the sending transaction. All dispensers that can match on an address are triggered by each UNO send that has a dispense multiplier of at least 1.</p><p>A dispenser can be in either of two status: 0 (open) or 10 (closed).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/terhnt/unoparty-docs/tree/main/packages/create-docusaurus/templates/shared/docs/advanced/protocol.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/unoparty-docs/docs/advanced/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Platform Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/unoparty-docs/docs/advanced/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Command-line (CLI) Guide</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#transactions" class="table-of-contents__link toc-highlight">Transactions</a></li><li><a href="#nonunoparty-transactions" class="table-of-contents__link toc-highlight">Non‚ÄêUnoparty transactions</a></li><li><a href="#mempool-transactions" class="table-of-contents__link toc-highlight">mempool transactions</a></li><li><a href="#subassets" class="table-of-contents__link toc-highlight">Subassets</a></li><li><a href="#message-types" class="table-of-contents__link toc-highlight">Message Types</a><ul><li><a href="#send" class="table-of-contents__link toc-highlight">Send</a></li><li><a href="#order" class="table-of-contents__link toc-highlight">Order</a></li><li><a href="#issue" class="table-of-contents__link toc-highlight">Issue</a></li></ul></li><li><a href="#broadcast" class="table-of-contents__link toc-highlight">Broadcast</a><ul><li><a href="#bet" class="table-of-contents__link toc-highlight">Bet</a></li><li><a href="#dividend" class="table-of-contents__link toc-highlight">Dividend</a></li><li><a href="#burn" class="table-of-contents__link toc-highlight">Burn</a></li><li><a href="#cancel" class="table-of-contents__link toc-highlight">Cancel</a></li><li><a href="#destroy" class="table-of-contents__link toc-highlight">Destroy</a></li><li><a href="#dispenser" class="table-of-contents__link toc-highlight">Dispenser</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/unoparty-docs/docs/intro">Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/unoparty-docs/docs/advanced/architecture">Advanced</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://t.me/unoparty" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/unobtanium" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/unopartyXUP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/terhnt/unoparty-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Unoparty, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/unoparty-docs/assets/js/runtime~main.43850e25.js"></script>
<script src="/unoparty-docs/assets/js/main.df4eda3e.js"></script>
</body>
</html>